<html>
<head>
<title>CollabRater</title>
<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
<script type="text/javascript">

$(document).ready(function() {
  console.log("Hello!");

  $("#postStuffButton").click(function() {
    $.ajax(
      {
        url: "cgi-bin/namecheck.py",
        // post this data to the server ...
        type: "GET",
        // grab data from the stuffInput text box
        data: {
                stuff: $("#stuffInput").val()
              },

        // the script will also return data back to the browser, so
        // handle it here ...
        dataType: "json",
        success: function(dat) {
          console.dir(dat);
          $("#stuff").text(dat.name);
        },
      }
    );
  });

}); 

</script>

<!-- 
    below script makes the register button disabled when at least one the form fields is empty.
!-->

<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script type = "text/javascript">
      $(document).ready(function() {

        $('#form').keyup(function(){
          if($('#password').val() != "" && $('#username').val() != ""){
            $('#submit').removeAttr('disabled');
          }
          else if($('#password').val() == "" || $('#username').val() == ""){
            $('#submit').attr('disabled', 'disabled');
          }
        });
      });
    </script>

  <!--
      This script will do exactly what the "check username" button does but will activate
      on $('#username').keyup() so we don't need a check username button.
  !-->

  <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
  <script>
    $(document).ready(function(){
      $("#username").keyup(function(){
        console.log($("#username").val());
        $.ajax({
        url: "cgi-bin/namecheck.py",
        type: "GET",
        data: {
          stuff: $('#username').val()
        },
        dataType: "json",
        success: function(dat){
          console.dir(dat);
          $("#stuff").text(dat.name);
        },

      })

      });
      
    });
  </script>


</head>

<body>

<input type="text" id="stuffInput"/>
<button id="postStuffButton">Check Username!</button>

<div id="stuff"></div>

<h1>Please enter your info:</h1>

<form method="post" action="cgi-bin/register.py" id = "form">



<label>Username:</label> <input name="user_name" id = "username" type=text size="30"/>
<br/>

<label>Password:&nbsp</label> <input name="pass_word" id = "password" type=password size="30"/>

<br/>

<label>(Optional)AdminPassword:</label> <input name="admin_password" type=text size="30"/>
<br/>
<input type="submit" id = "submit" value = "Register" disabled = "disabled"/>

</form>

<a href="login.html">Return to Login Page</a>



</body>

</html>